(function(t){function e(e){for(var i,s,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0014":function(t,e,n){},"0b60":function(t,e,n){t.exports=n.p+"img/icons8-sun-500.bf96f046.png"},"21f6":function(t,e,n){t.exports=n.p+"img/icons8-fog-500.91b13dc5.png"},"262c":function(t,e,n){t.exports=n.p+"img/icons8-windy-weather-500.343eff5b.png"},"2f99":function(t,e,n){t.exports=n.p+"img/icons8-clouds-500.be9cc7af.png"},"336c":function(t,e,n){t.exports=n.p+"img/icons8-sleet-500.e65f0810.png"},"4e09":function(t,e,n){t.exports=n.p+"img/icons8-snow-500.4b539b44.png"},"4e2a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("786c"),n("68aa"),n("9393"),n("09d7");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"background text-white"},[n("div",{staticClass:"title-bar text-xl pt-2 pb-2 pr-4 flex items-center content-between"},[t._m(0),n("div",{staticClass:"currentTime flex-1 text-center"},[t._v(t._s(t.currentTime))]),n("div",{staticClass:"currentDate flex-1 text-right"},[t._v(t._s(t.currentDate))])]),n("div",{staticClass:"content-area md:flex-row md:flex md:items-stretch"},[n("div",{staticClass:"location p-4"},[n("ul",{staticClass:"list-buttons"},[n("li",[n("button",{staticClass:"button",on:{click:t.getUserLocation}},[t._v("My location")])]),n("li",[n("button",{staticClass:"button",on:{click:function(e){return t.getLocationFromPresets(40.73061,-73.935242)}}},[t._v("New York")])]),n("li",[n("button",{staticClass:"button",on:{click:function(e){return t.getLocationFromPresets(48.864716,2.349014)}}},[t._v("Paris")])]),n("li",[n("button",{staticClass:"button",on:{click:function(e){return t.getLocationFromPresets(30.033333,31.233334)}}},[t._v("Cairo")])]),n("li",[n("button",{staticClass:"button",on:{click:function(e){return t.getLocationFromPresets(22.302711,114.177216)}}},[t._v("Hong Kong")])]),n("li",[n("button",{staticClass:"button",on:{click:function(e){return t.getLocationFromPresets(-34.603722,-58.381592)}}},[t._v("Buenos Aires ")])]),n("li",[n("form",{on:{submit:[t.search,function(t){t.preventDefault()}]}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"query",type:"text"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),n("button",{staticClass:"button",attrs:{type:"submit"}},[t._v("Search ")])])])])]),n("div",{staticClass:"current text-center p-4"},[t.isLoading?n("div",{staticClass:"spinner mx-auto my-4"}):n("div",[Object.keys(t.currentData).length?n("Current",{key:t.currentData.id,attrs:{currentLocationFriendly:this.currentLocationFriendly,currentTemp:t.currentData.currentTemp,icon:t.currentData.icon,currentLow:t.currentData.currentLow,currentHigh:t.currentData.currentHigh,summary:t.currentData.summary}}):t._e()],1)]),n("div",{staticClass:"activities flex-1 p-4"},[t.isLoading?t._e():n("div",[Object.keys(t.activitiesData).length?n("div",[n("Activities",{key:t.activitiesData.id,attrs:{kite:t.activitiesData.kite,joggingTemp:t.activitiesData.joggingTemp,joggingPrecip:t.activitiesData.joggingPrecip,skiing:t.activitiesData.skiing}})],1):t._e()]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isFahrenheit,expression:"isFahrenheit"}],attrs:{type:"radio",id:"isFahrenheitTrue",value:"True"},domProps:{checked:t._q(t.isFahrenheit,"True")},on:{change:function(e){t.isFahrenheit="True"}}}),n("label",{attrs:{for:"isFahrenheitTrue"}},[t._v("℉")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.isFahrenheit,expression:"isFahrenheit"}],attrs:{type:"radio",id:"isFahrenheitFalse",value:"False"},domProps:{checked:t._q(t.isFahrenheit,"False")},on:{change:function(e){t.isFahrenheit="False"}}}),n("label",{attrs:{for:"isFahrenheitFalse"}},[t._v("℃")])]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isImperial,expression:"isImperial"}],attrs:{type:"radio",id:"isImperialTrue",value:"True"},domProps:{checked:t._q(t.isImperial,"True")},on:{change:function(e){t.isImperial="True"}}}),n("label",{attrs:{for:"isImperialTrue"}},[t._v("Imp.")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.isImperial,expression:"isImperial"}],attrs:{type:"radio",id:"isImperialFalse",value:"False"},domProps:{checked:t._q(t.isImperial,"False")},on:{change:function(e){t.isImperial="False"}}}),n("label",{attrs:{for:"isImperialFalse"}},[t._v("Met. ")])])])]),n("div",{staticClass:"forecast-area bg-transparent-black p-6"},[t.isLoading?t._e():n("div",[Object.keys(t.hourlyData).length?n("div",[n("h2",{staticClass:"text-center mt-4"},[t._v("Today's forecast")]),n("div",{staticClass:"flex justify-center"},t._l(t.hourlyData,(function(t){return n("Hourly",{key:t.id,attrs:{temp:t.temp,time:t.time,icon:t.icon}})})),1)]):t._e(),Object.keys(t.dailyData).length?n("div",[n("h2",{staticClass:"text-center mt-4"},[t._v("Forecast for the week")]),n("div",{staticClass:"flex justify-center"},t._l(t.dailyData,(function(t){return n("Daily",{key:t.id,attrs:{time:t.time,tempLow:t.tempLow,tempHigh:t.tempHigh,icon:t.icon}})})),1)]):t._e()])])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-1"},[i("img",{staticClass:"edt-logo",attrs:{src:n("6d96")}})])}],s=(n("99af"),n("4160"),n("fb6a"),n("b680"),n("d3b7"),n("07ac"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dl",[n("dt",{staticClass:"font-bold"},[t._v("Kite Flying ")]),n("dd",[t._v(t._s(this.$parent.distanceUnits(t.kite))+" / hr")]),n("dt",{staticClass:"font-bold"},[t._v("Jogging")]),n("dd",[n("span",{domProps:{innerHTML:t._s(this.$parent.tempUnits(t.joggingTemp))}}),n("span",[t._v(" , "+t._s(t.joggingPrecip)+"% "),n("abbr",{staticClass:"cursor-help",attrs:{title:"Probability of Precipitation"}},[t._v("PoP")])])]),n("dt",{staticClass:"font-bold"},[t._v("Skiing")]),n("dd",[t._v(t._s(this.$parent.rulerUnits(t.skiing)))])])}),o=[],c={props:["kite","joggingTemp","joggingPrecip","skiing"],name:"Activities"},u=c,l=n("0c7c"),p=Object(l["a"])(u,s,o,!1,null,null,null),d=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-5 hour-wrapper text-center"},[n("div",{staticClass:"icon"},[n("Icon",{attrs:{iconTitle:t.icon}})],1),n("div",{staticClass:"temp",domProps:{innerHTML:t._s(this.$parent.tempUnits(t.temp))}}),n("div",{staticClass:"time"},[t._v(t._s(t.time)+" ")])])},g=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"clear-day"===t.iconTitle?i("img",{attrs:{src:n("0b60")}}):"clear-night"===t.iconTitle?i("img",{attrs:{src:n("9a3b")}}):"partly-cloudy-day"===t.iconTitle?i("img",{attrs:{src:n("772a")}}):"partly-cloudy-night"===t.iconTitle?i("img",{attrs:{src:n("c8c6")}}):"cloudy"===t.iconTitle?i("img",{attrs:{src:n("2f99")}}):"rain"===t.iconTitle?i("img",{attrs:{src:n("d445")}}):"sleet"===t.iconTitle?i("img",{attrs:{src:n("336c")}}):"snow"===t.iconTitle?i("img",{attrs:{src:n("4e09")}}):"wind"===t.iconTitle?i("img",{attrs:{src:n("262c")}}):"fog"===t.iconTitle?i("img",{attrs:{src:n("21f6")}}):t._e()},v=[],f={props:["iconTitle"],name:"Icon"},y=f,b=Object(l["a"])(y,h,v,!1,null,null,null),_=b.exports,L={props:["time","temp","icon"],name:"Hourly",components:{Icon:_}},T=L,x=Object(l["a"])(T,m,g,!1,null,null,null),w=x.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-4 daily-wrapper text-center"},[n("div",{staticClass:"time"},[t._v(t._s(t.time)+" ")]),n("div",{staticClass:"icon"},[n("Icon",{attrs:{iconTitle:t.icon}})],1),n("div",{staticClass:"range mb-2"},[n("div",[n("small",[t._v("low ")]),n("span",{staticClass:"low",domProps:{innerHTML:t._s(this.$parent.tempUnits(t.tempLow))}})]),n("div",[n("small",[t._v("high ")]),n("span",{staticClass:"high",domProps:{innerHTML:t._s(this.$parent.tempUnits(t.tempHigh))}})])])])},D=[],F={props:["time","tempLow","tempHigh","icon"],name:"Daily",components:{Icon:_}},k=F,P=Object(l["a"])(k,C,D,!1,null,null,null),j=P.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"circle-wrapper rounded-full bg-transparent-black text-center my-10"},[n("div",{staticClass:"circle items-center flex justify-center leading-none"},[n("div",{staticClass:"w-full"},[n("h1",{staticClass:"current-location mb-10"},[t._v(t._s(t.currentLocationFriendly))]),n("div",{staticClass:"flex items-center justify-around"},[n("div",{staticClass:"low-high leading-normal"},[n("div",[t._v("low ")]),n("div",{domProps:{innerHTML:t._s(this.$parent.tempUnits(t.currentLow))}})]),n("div",{staticClass:"current-temp mb-8",domProps:{innerHTML:t._s(this.$parent.tempUnits(t.currentTemp))}}),n("div",{staticClass:"low-high leading-normal"},[n("div",[t._v("high ")]),n("div",{domProps:{innerHTML:t._s(this.$parent.tempUnits(t.currentHigh))}})])]),n("div",{staticClass:"icon"},[n("Icon",{staticClass:"m-auto",attrs:{iconTitle:t.icon}}),n("div",{staticClass:"low-high leading-normal"},[t._v(t._s(t.summary))])],1)])])])},I=[],M={props:["currentLocationFriendly","currentLow","currentHigh","currentTemp","icon","summary"],name:"Current",components:{Icon:_}},O=M,$=Object(l["a"])(O,H,I,!1,null,null,null),U=$.exports,G={name:"app",components:{Hourly:w,Daily:j,Activities:d,Current:U},data:function(){return{weatherData:"",hourlyData:[],dailyData:[],activitiesData:{},currentData:{},searchQuery:"",currentLat:"",currentLong:"",currentLocationFriendly:"",isFahrenheit:"True",isImperial:"True",isLoadingWeather:!1,isLoadingGeocoding:!1,isLoadingReverseGeocoding:!1,currentTime:"",currentDate:""}},methods:{showData:function(){var t=this;this.hourlyData=[],this.dailyData=[],this.activitiesData=[],this.isLoadingWeather=!0;var e=new Date,n="",i=e.getMinutes();i<10&&(i="0".concat(i)),n=e.getHours()>12?e.getHours()-12:0===e.getHours()?12:e.getHours();var r=e.getHours()>=12?"PM":"AM";this.currentTime="".concat(n,":").concat(i," ").concat(r);var a=e.getDate(),s=e.getMonth()+1,o=e.getFullYear();this.currentDate="".concat(s,".").concat(a,".").concat(o),fetch("/darksky?lat=".concat(this.currentLat,"&long=").concat(this.currentLong)).then((function(t){return t.json()})).then((function(e){var n=[],i=Object.values(e.hourly.data);i.slice(0,6).forEach((function(e){var i={};i.time=t.convertTimeShort(e.time),i.temp="".concat(e.apparentTemperature),n.push(i.temp),i.icon=e.icon,t.hourlyData.push(i)}));var r=Object.values(e.daily.data);r.slice(0,7).forEach((function(e){var n={};n.time=t.convertTime(e.time),n.tempLow="".concat(e.apparentTemperatureLow),n.tempHigh="".concat(e.apparentTemperatureHigh),n.icon=e.icon,t.dailyData.push(n)})),t.activitiesData.kite=e.currently.windSpeed,t.activitiesData.joggingTemp=e.currently.apparentTemperature,t.activitiesData.joggingPrecip=100*e.currently.precipProbability,t.activitiesData.skiing=e.currently.precipAccumulation?e.currently.precipAccumulation:0,t.currentData.currentLocationFriendly=t.currentLocationFriendly,t.currentData.currentTemp=e.currently.apparentTemperature,t.currentData.icon=e.currently.icon,t.currentData.summary=e.currently.summary,t.currentData.currentLow=Math.min.apply(Math,n),t.currentData.currentHigh=Math.max.apply(Math,n),t.isLoadingWeather=!1})).catch((function(e){t.weatherData=e}))},search:function(){this.currentLocationFriendly="",this.geocode(encodeURIComponent(this.searchQuery))},geocode:function(t){var e=this;this.isLoadingGeocoding=!0,fetch("/geocode?search_query=".concat(t)).then((function(t){return t.json()})).then((function(t){var n=t.results;n.sort((function(t,e){return t.confidence>e.confidence?-1:t.confidence<e.confidence?1:0})),e.currentLat=n[0].geometry.lat,e.currentLong=n[0].geometry.lng,e.reverseGeocode(e.currentLat,e.currentLong),e.isLoadingGeocoding=!1})).catch((function(t){e.weatherData=t}))},reverseGeocode:function(t,e){var n=this;this.hourlyData=[],this.dailyData=[],this.activitiesData=[],this.isLoadingReverseGeocoding=!0,fetch("/reverse_geocode?lat=".concat(t,"&long=").concat(e)).then((function(t){return t.json()})).then((function(t){var e="";e=t.results[0].components.city,void 0!==e&&""!==e||(e=t.results[0].components.county),void 0!==e&&""!==e||(e=t.results[0].components.state),void 0!==e&&""!==e||(e=t.results[0].components.country),void 0!==e&&""!==e||(e=t.results[0].components.continent),void 0!==e&&""!==e||(e=t.results[0].components.body_of_water),n.currentLocationFriendly="".concat(e),n.showData(),n.isLoadingReverseGeocoding=!1}))},getUserLocation:function(){var t=this,e=function(e){t.currentLat=e.coords.latitude,t.currentLong=e.coords.longitude,t.reverseGeocode(t.currentLat,t.currentLong)},n=function(){t.getLocationFromPresets(40.73061,-73.935242)};navigator.geolocation.getCurrentPosition(e,n)},getLocationFromPresets:function(t,e){this.currentLat=t,this.currentLong=e,this.reverseGeocode(this.currentLat,this.currentLong),this.showData()},convertTimeShort:function(t){var e,n=new Date(1e3*t);e=n.getHours()>12?n.getHours()-12:0===n.getHours()?12:n.getHours();var i=n.getHours()>=12?"PM":"AM";return"".concat(e).concat(i)},convertTime:function(t){var e=new Date(1e3*t),n=e.getDay(),i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return"".concat(i[n])},tempUnits:function(t){return t=parseFloat(t),"True"===this.isFahrenheit?"".concat(t.toFixed(0),'<span class="degree">°F</span>'):"".concat(((t-32)/1.8).toFixed(0),'<span class="degree">°C</span>')},distanceUnits:function(t){return t=parseFloat(t),"True"===this.isImperial?"".concat(t.toFixed(0)," Miles"):"".concat((1.60934*t).toFixed(0)," Kilometers")},rulerUnits:function(t){return t=parseFloat(t),"True"===this.isImperial?"".concat(t.toFixed(0)," Inches"):"".concat((2.54*t).toFixed(0)," Centimeters")}},computed:{isLoading:function(){return!!(this.isLoadingGeocoding||this.isLoadingWeather||this.isLoadingReverseGeocoding)}},mounted:function(){this.$nextTick((function(){this.getUserLocation()}))}},S=G,E=(n("5c0b"),Object(l["a"])(S,r,a,!1,null,null,null)),A=E.exports;n("4e2a");i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(A)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("0014"),r=n.n(i);r.a},"6d96":function(t,e,n){t.exports=n.p+"img/edt-logo.aa764c27.png"},"772a":function(t,e,n){t.exports=n.p+"img/icons8-partly-cloudy-day-500.d05082c8.png"},"9a3b":function(t,e,n){t.exports=n.p+"img/icons8-moon-and-stars-500.e90aebdb.png"},c8c6:function(t,e,n){t.exports=n.p+"img/icons8-night-500.f4fd1582.png"},d445:function(t,e,n){t.exports=n.p+"img/icons8-light-rain-500.c0200545.png"}});
//# sourceMappingURL=app.b006e112.js.map